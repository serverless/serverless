# Strands Agent with Automatic Code Packaging
# No Docker required - Framework automatically packages and uploads to S3

service: strands-auto-agent

provider:
  name: aws

custom:
  # Enable Python requirements packaging
  pythonRequirements: true

agents:
  # AgentCore Runtime using automatic code deployment
  # Note: 'type: runtime' is optional as it's the default
  codeAgent:
    artifact:
      # Entry point: path to the Python file
      # File must use @app.entrypoint from bedrock_agentcore.runtime
      entryPoint: ['handler.py']
      # Runtime defaults to PYTHON_3_13 if not specified
      # runtime: PYTHON_3_13
    package:
      patterns:
        - '!tests/**'
        - '!*.md'
        - '!venv'
    # Optional: Add memory for conversation persistence
    # memory:
    #   expiration: 90
