# Memory Strategies Example
# Demonstrates all memory strategy types for different use cases

service: memory-strategies

provider:
  name: aws
  region: us-east-1
  stage: ${opt:stage, 'dev'}

custom:
  agentCore:
    defaultTags:
      Project: MemoryStrategiesExample

agents:
  # Example 1: Semantic Memory Strategy
  # Use for similarity-based search across conversations
  semanticMemory:
    type: memory
    description: Memory with semantic search capabilities
    eventExpiryDuration: 60
    strategies:
      - SemanticMemoryStrategy:
          Name: ConversationSearch
          Description: Enables semantic search over conversation history
          Namespaces:
            - /conversations/{sessionId}
            - /users/{userId}/chats

  # Example 2: Summary Memory Strategy
  # Use for maintaining condensed conversation context
  summaryMemory:
    type: memory
    description: Memory with summarization for context management
    eventExpiryDuration: 90
    strategies:
      - SummaryMemoryStrategy:
          Name: ConversationSummary
          Description: Summarizes long conversations to maintain context
          Namespaces:
            - /sessions/{sessionId}

  # Example 3: User Preference Memory Strategy
  # Use for tracking user preferences across sessions
  userPreferenceMemory:
    type: memory
    description: Memory for tracking user preferences
    eventExpiryDuration: 365
    strategies:
      - UserPreferenceMemoryStrategy:
          Name: UserSettings
          Description: Tracks user preferences and settings
          Namespaces:
            - /users/{userId}/preferences
            - /users/{userId}/settings

  # Example 4: Custom Memory Strategy
  # Use for application-specific memory handling
  customMemory:
    type: memory
    description: Memory with custom strategy configuration
    eventExpiryDuration: 30
    strategies:
      - CustomMemoryStrategy:
          Name: ApplicationSpecific
          Description: Custom memory handling for specific use cases
          Configuration:
            customField: customValue
            processingMode: batch
            retentionPolicy: archive

  # Example 5: Episodic Memory Strategy
  # Use for episodic memory with reflection capabilities
  episodicMemory:
    type: memory
    description: Episodic memory with reflection
    eventExpiryDuration: 180
    strategies:
      - EpisodicMemoryStrategy:
          Name: Episodes
          Description: Stores episodic memories with reflection
          Namespaces:
            - /episodes/{sessionId}

  # Example 6: Multi-Strategy Memory
  # Combine multiple strategies for comprehensive memory management
  multiStrategyMemory:
    type: memory
    description: Memory combining multiple strategies
    eventExpiryDuration: 90
    strategies:
      # Semantic search for finding relevant past conversations
      - SemanticMemoryStrategy:
          Name: SemanticSearch
          Namespaces:
            - /conversations/{sessionId}

      # Summarization for context management
      - SummaryMemoryStrategy:
          Name: ContextSummary
          Namespaces:
            - /sessions/{sessionId}

      # User preferences for personalization
      - UserPreferenceMemoryStrategy:
          Name: Preferences
          Namespaces:
            - /users/{userId}
